<ion-header mode="ios">
  <ion-toolbar>
    <ion-title aria-label="select an experience" tabindex="0" id="page-title">Select an experience</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" color="light" appFloat>
  <ion-grid *ngIf="!isProgramsLoading">
    <ion-row>
      <ion-col size="12" size-sm="12" size-md="6" size-lg="4" size-xl="3" *ngFor="let program of programs; let i = index">
        <ion-card class="practera-card experience-card" (click)="switch(i)"  role="link" [attr.aria-label]="program.program.name">
          <div class="image-container">
            <img [src]="program.project.lead_image ? program.project.lead_image : '../../../assets/default-experience-image.svg'" alt="{{ program.program.name }}"/>
          </div>
          <ion-card-content>
            <clickable-item color="light" [lines]="'none'" (keyup.enter)="switch(i)" [backgroundColor]="program.program.config.theme_color" [isSwitcherCard]="true">
              <ion-label class="subtitle-1">
                {{ program.program.name }}
              </ion-label>
              <!-- Show forward arrow if exprience didn't have status -->
              <ion-icon *ngIf="!program.experience.status" name="chevron-forward" slot="end"></ion-icon>
              <!-- Only show status if  exprience have it-->
              <div *ngIf="program.experience.status" slot="end" class="status-slot" [ngClass]="program.experience.status ? program.experience.status: ''">
                <ng-container *ngIf="program.experience.status === 'draft'">
                  <ion-icon name="time-outline"></ion-icon>
                  <p class="subtitle-2">NOT LIVE</p>
                </ng-container>
                <ng-container *ngIf="program.experience.status === 'live'">
                  <ion-icon name="ellipse"></ion-icon>
                  <p class="subtitle-2">LIVE</p>
                </ng-container>
                <ng-container *ngIf="program.experience.status === 'completed'">
                  <ion-icon name="checkmark-outline"></ion-icon>
                  <p class="subtitle-2">DONE</p>
                </ng-container>
              </div>
            </clickable-item>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid *ngIf="isProgramsLoading" class="skeleton">
    <ion-row>
      <ion-col size="12" size-sm="12" size-md="6" size-lg="4" size-xl="3" *ngFor="let program of [1,1,1,1]">
        <ion-card class="practera-card experience-card"  role="link">
          <div class="image-container">
            <img [src]="'../../../assets/skeleton-experience-image.svg'" alt="skeleton Image"/>
          </div>
          <ion-card-content>
            <ion-item [lines]="'none'" >
              <ion-label class="subtitle-1">
                <ion-skeleton-text animated style="width: 70%;"></ion-skeleton-text>
              </ion-label>
              <ion-skeleton-text slot="end" animated style="width: 10%;"></ion-skeleton-text>
            </ion-item>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
