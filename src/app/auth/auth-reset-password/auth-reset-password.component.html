<ion-content color="light" text-center *ngIf="verifySuccess">
  <div class="div-logo">
    <app-branding-logo></app-branding-logo>
  </div>
  <div class="div-after-logo">
    <div class="text-split">
      <span><ion-text margin-end><b>Reset your password</b></ion-text></span>
    </div>
    <div class="text-split">
      <span><ion-text margin-end>Please enter a new password for your account.</ion-text></span>
    </div>
    <form (ngSubmit)="resetPassword()" [formGroup]="resetPasswordForm">
      <ion-input name="username" formControlName="email" type="email"></ion-input>
      <ion-list>
        <ion-item>
          <ion-input name="password" autocomplete="new-password" inputmode="password" formControlName="password" required type="password" placeholder="Password" ></ion-input>
        </ion-item>
        <ion-item>
          <ion-input name="confirmPassword" autocomplete="new-password" inputmode="password" formControlName="confirmPassword" type="password" placeholder="Verify" [class.invalid-field]="resetPasswordForm.hasError('notMatching') && resetPasswordForm.controls.confirmPassword.value"></ion-input>
        </ion-item>
        <div class="error-text" *ngIf="resetPasswordForm.hasError('notMatching') && resetPasswordForm.controls.confirmPassword.value">
          Password do not match
        </div>
      </ion-list>
      <br>
      <ion-button shape="round" color="primary" [disabled]="!resetPasswordForm.valid || isResetting" type="submit">
        <ng-container *ngIf="!isResetting">CHANGE PASSWORD</ng-container>
        <ng-container *ngIf="isResetting">RESETTING...</ng-container>
      </ion-button>
    </form>
  </div>
  <div class="text-split">
      <span><ion-text margin-end> Remembered it?</ion-text></span>
      <a routerLink="/login">Login here</a>
  </div>
  <div>
    <a>Powered by</a><img src="/assets/logo.svg" height="25" class="img-inline">
  </div>
</ion-content>
