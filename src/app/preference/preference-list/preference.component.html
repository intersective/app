<ion-header mode="ios">
  <ion-toolbar [ngClass]="{'ion-toolbar-absolute': !utils.isMobile()}">
    <ion-buttons slot="start">
      <ion-button (click)="goTo(['/app', 'settings'])">
        <ion-icon class="icon-backward ion-margin-start" name="arrow-back" color="primary" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title class="ion-text-center">Notifications</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content color="light" class="ion-text-center" [ngClass]="{
  'ion-content-absolute': !utils.isMobile(),
  'ion-content-mobile': utils.isMobile()
}" >

<ion-content >
  <ng-container *ngIf="(preferences$ | async ) as preferences; else noPreferenceAvailable">
    <ion-list *ngFor="let cat of preferences.categories">
      <ion-list-header class="no-bg preference-cat-item">{{cat.name}}</ion-list-header>

      <ion-item *ngFor="let pref of cat.preferences" (click)="goTo(['preferences', pref.key])">
        <ion-label>
          <h3 class="preference-header-item">{{pref.name}}</h3>
          <app-options [options]="pref.options"></app-options>
        </ion-label>
        <ion-icon name="chevron-forward-outline" color="medium" slot="end"></ion-icon>
      </ion-item>
    </ion-list>
  </ng-container>

  <ng-template #noPreferenceAvailable>
    <div class="ion-text-center ion-margin-bottom">
      <p>No preferences setting available.</p>
    </div>
  </ng-template>
</ion-content>
