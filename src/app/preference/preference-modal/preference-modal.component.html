<ion-content color="light" class="pop-up-content test" text-center>
  <ion-toolbar class="pn-title-toolbar">
    <ion-icon name="close"
      (click)="close()"
      color="primary"
      size="large"
      slot="end"
      margin-start
      class="close-modal"
    ></ion-icon>
    <ion-title class="ion-text-center pm-title">Notifications</ion-title>
  </ion-toolbar>
  
    <ng-container *ngIf="(preferences$ | async ) as preferences; else noPreferenceAvailable">
      <ion-list *ngFor="let cat of preferences.categories">
        <ion-list-header class="no-bg preference-cat-item">{{cat.name}}</ion-list-header>
  
        <ion-item *ngFor="let pref of cat.preferences" (click)="PreferenceUpdateModal()">
          <ion-label>
            <h3 class="preference-header-item">{{pref.name}}</h3>
            <app-options [options]="pref.options"></app-options>
          </ion-label>
          <ion-icon name="chevron-forward-outline" color="medium" slot="end"></ion-icon>
        </ion-item>
      </ion-list>
    </ng-container>
  
    <ng-template #noPreferenceAvailable>
      <div class="ion-text-center ion-margin-bottom">
        <p>No preferences setting available.</p>
      </div>
    </ng-template>
  
 </ion-content> 