<ion-content color="light" class="pop-up-content test" text-center>
  <ng-container *ngIf="!showUpdateModal; else showUpdateModalTemplate">
    <ion-toolbar class="pn-title-toolbar">
      <ion-icon name="close"
        (click)="close()"
        color="primary"
        size="large"
        slot="end"
        margin-start
        class="close-modal"
      ></ion-icon>
      <ion-title class="ion-text-center pm-title">Notifications</ion-title>
    </ion-toolbar>
  
    <!-- <ng-container *ngIf="(preferences$ | async ) as preferences; else noPreferenceAvailable">
      <ion-list *ngFor="let cat of preferences.categories">
        <ion-list-header class="no-bg preference-cat-item">{{cat.name}}</ion-list-header>
  
        <ion-item *ngFor="let pref of cat.preferences" (click)="preferenceUpdateModal($event,pref.key)">
          <ion-label>
            <h3 class="preference-header-item">{{pref.name}}</h3>
            <app-options [options]="pref.options"></app-options>
          </ion-label>
          <ion-icon name="chevron-forward-outline" color="medium" slot="end"></ion-icon>
        </ion-item>
      </ion-list>
    </ng-container>
  
    <ng-template #noPreferenceAvailable>
      <div class="ion-text-center ion-margin-bottom">
        <p>No preferences setting available.</p>
      </div>
    </ng-template> -->
    <app-preference></app-preference>
  </ng-container>
 
  
  <ng-template #showUpdateModalTemplate>
    <!-- <ion-header mode="ios">
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-button (click)="back()">
            <ion-icon class="icon-backward ion-margin-start" name="arrow-back" color="primary" slot="icon-only"></ion-icon>
          </ion-button>
        </ion-buttons>
        <ion-title class="ion-text-center">{{ currentPreference.name }}</ion-title>
      </ion-toolbar>
    </ion-header>
    
    <ion-content color="light" text-center>
      <ion-list>
        <ion-item *ngIf="currentPreference.description" lines="none" color="light">
          <ion-label>
            <h2 class="bold subtitle-1">{{ currentPreference.description }}</h2>
          </ion-label>
        </ion-item>
    
        <ion-item *ngFor="let option of currentPreference.options">
          <ion-label class="preference-option preference-header-item">{{ option.name }}</ion-label>
          <ng-container *ngIf="!option.locked; else locked">
            <ion-toggle slot="end" name="{{option.name}}" [attr.checked]="option.value"></ion-toggle>
          </ng-container>
    
          <ng-template #locked>
            <ion-label slot="end" >{{ option.locked_name }}</ion-label>
          </ng-template>
        </ion-item>
        <ion-item *ngIf="currentPreference.remarks" lines="none" color="light">
          <ion-label>
            <p class="gray-2 subtitle-1 preference-option item-content">{{ currentPreference.remarks }}</p>
          </ion-label>
        </ion-item>
      </ion-list>
    
    </ion-content> -->
    <app-preference-update [currentPreference]="currentPreference"></app-preference-update>
  </ng-template>
</ion-content>  