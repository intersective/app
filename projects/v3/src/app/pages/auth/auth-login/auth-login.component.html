<ion-content color="light" class="ion-text-center">
  <header>
    <div class="div-logo">
      <app-branding-logo></app-branding-logo>
    </div>
  </header>
  <main>
    <div class="div-after-logo">
      <form (ngSubmit)="login()" [formGroup]="loginForm" (keyup.enter)="login()">
        <ion-list class="ion-margin">
          <ion-item>
            <ion-input
              aria-label="email"
              name="email"
              formControlName="email"
              required
              autocomplete="on"
              inputmode="email"
              type="email"
              placeholder="Email"
              ></ion-input>
          </ion-item>
          <ion-item lines="none">
            <ion-input
              aria-label="password"
              name="password"
              formControlName="password"
              autocomplete="on"
              inputmode="password"
              required
              [type]="showPassword ? 'text' : 'password'"
              placeholder="Password"
              ></ion-input>
              <ion-button (click)="showPassword = !showPassword" fill="clear">
                <ion-icon slot="end" [name]="showPassword ? 'eye' : 'eye-off'"></ion-icon>
              </ion-button>
          </ion-item>
        </ion-list>
        <ion-button
          shape="round"
          color="primary"
          [disabled]="!loginForm.valid || isLoggingIn"
          type="submit"
          expand="full"
          tabindex="0"
          [attr.aria-describedby]="'login-desc'"
          (keydown)="login($event)"
          >
          <ng-container *ngIf="!isLoggingIn" id="login-desc">LOGIN</ng-container>
          <ng-container *ngIf="isLoggingIn" id="login-desc">LOGGING IN...</ng-container>
        </ion-button>
      </form>
    </div>
    <div class="text-split">
      <a routerLink="/auth/forgot_password" class="subtitle-2">Problem signing in?</a>
    </div>
    <div>
      <a>Powered by</a><img src="/assets/logo.svg" height="25" class="img-inline" alt="Practera">
    </div>
  </main>
</ion-content>
