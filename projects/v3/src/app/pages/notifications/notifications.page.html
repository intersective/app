<ion-header>
  <ion-toolbar>
    <ion-title>Notifications</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ng-container *ngIf="isMobile; else notificationsDesktop" aria-labelledby="notifications">
    <ion-item lines="none" color="transparent" class="ion-no-padding">
      <ion-label class="subtitle-2 gray-2 ion-padding-start ion-padding-end" tabindex="0" aria-label="notifications"
        id="notifications">Notifications</ion-label>
    </ion-item>

    <ng-container *ngIf="loadingTodoItems; else doneLoading">
      <div class="margin-left-right ion-padding-bottom">
        <app-todo-card [loading]="true" [todoItem]="false"></app-todo-card>
      </div>
    </ng-container>

    <ng-template #doneLoading>
      <ng-container @newLoaded *ngIf="(eventReminders || []).concat(todoItems) as notices">
        <app-todo-card [todoItem]="{
          name: event.name,
          description: '',
          type: 'event',
          time: timeFormattervent.startTime)
        }" (click)="showEventDetail(event)"></app-todo-card>

        <ng-template #noNotices>
          <div class="margin-left-right ion-padding-bottom">
            <ng-container *ngTemplateOutlet="noItemsTpl"></ng-container>
          </div>
        </ng-template>
      </ng-container>
    </ng-template>
  </ng-container>
</ion-content>


<ng-template #notificationsDesktop>
  <ion-label class="subtitle-2 gray-2 ion-padding-start ion-padding-end" tabindex="0" aria-lable="notifications">
    Notifications</ion-label>
  <ion-list class="todo-list" lines="none">
    <ng-container *ngIf="loadingTodoItems; else todoItemsTpl">
      <app-todo-card class="ion-padding-bottom" [loading]="true" [todoItem]="false"></app-todo-card>
    </ng-container>
  </ion-list>
</ng-template>

<ng-template #todoItemsTpl>
  <ng-container *ngFor="let event of eventReminders" @newLoaded>
    <app-todo-card [todoItem]="{
      name: event.name,
      description: '',
      type: 'event',
      time: timeFormattervent.startTime)
    }" (click)="showEventDetail(event)"></app-todo-card>
  </ng-container>

  <ng-container *ngIf="todoItems.length; else noItemsTpl">
    <div *ngFor="let todoItem of todoItems" @newLoaded>
      <app-todo-card [todoItem]="todoItem" (click)="clickTodoItem(todoItem)"></app-todo-card>
    </div>
  </ng-container>

</ng-template>

<ng-template #noItemsTpl>
  <app-todo-card *ngIf="!eventReminders.length" [todoItem]="false"></app-todo-card>
</ng-template>
